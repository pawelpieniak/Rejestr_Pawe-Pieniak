@using Rejestr_PawełPieniak.Models
@*
    @model IEnumerable<Rejestr_PawełPieniak.Models.OsobyZaginione>  *@
@model string


@{
    ViewBag.Title = "Index";
    AjaxOptions ajax = new AjaxOptions
    {
        UpdateTargetId = "Osoby1",
        LoadingElementId = "Osoby2",
        Url = Url.Action("GetPersonDate"),
    };
}

<h2>Osoby Zaginione</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
@*
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateOfBirth)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateOfDisappearance)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PictureName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CityOfDisappearance)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LocationOfDisappearance)
            </th>
            <th></th>
        </tr>

    @foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DateOfBirth)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DateOfDisappearance)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PictureName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CityOfDisappearance)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LocationOfDisappearance)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id=item.IdPersons }) |
                @Html.ActionLink("Details", "Details", new { id=item.IdPersons }) |
                @Html.ActionLink("Delete", "Delete", new { id=item.IdPersons })
            </td>
        </tr>
    }

    </table>
*@
<table>
    <thead><tr>Name</tr><tr>LastName</tr><tr>Gender</tr><tr>DateOfBirth</tr><tr>DateOfDisappearance</tr><tr>CityOfDisappearance</tr><tr>LocationOfDisappearance</tr></thead>
    <tbody id="Osoby1">
        @Html.Action("GetPersonDate", new { selectedPersons = Model })
    </tbody>
</table>

@using (Ajax.BeginForm(ajax))
{
    <div>
        @Html.DropDownList("selectedPersons", new SelectList(
       new[] { "All" }.Concat(Enum.GetNames(typeof(Gender)))))
        <button type="submit">Pokaz</button>
    </div>

}
